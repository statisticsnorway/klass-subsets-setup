directive @domain on OBJECT

directive @link on FIELD_DEFINITION

#IdentifiableArtefact is reusable abstract object (type). All identifiable objects inherits all attributes from this object (type).
interface IdentifiableArtefact {
  #Administrative details (e.g. default language, documentation, localID, ...).
  administrativeDetails: [AdministrativeDetails!]
  #Indicator for access to an item.
  administrativeStatus: AdministrativeStatusType
  #Agent(s) acting in the Role(s) for this information object.
  agentInRoles: [AgentInRole] @link
  #Information object created by.
  createdBy: String!
  #The date on which the information object was created
  createdDate: DateTime!
  #The description of the information object
  description: [MultilingualText!]
  #The global unique identifier (GUID) of the information object assigned by the owner agency.
  id: String!
  #Last updated by.
  lastUpdatedBy: String
  #The date on which the object was last updated.
  lastUpdatedDate: DateTime
  #A term which designates a concept, in this case an information object. The identifying name will be the preferred designation. There will be many terms to designate the same information object, such as synonyms and terms in other languages.
  name: [MultilingualText!]!
  #A short technical name. (Avoid special characters not supported as variable names in common programming languages).
  shortName: String
  #The date on which the information object is effective or valid. Set this date only once (constant). The same date for all versions of this information object.
  validFrom: DateTime!
  #The date on which the information object is no longer effective or valid.
  validUntil: DateTime
  #Formal versioning of the information object. The version designator of the information object assigned by the owner agency. "major.minor.patch", e.g. "1.12.5".
  version: String
  #The reason for making this version of the information object.
  versionRationale: [MultilingualText!]
  #The date on which the current version of the infomation object is effective or valid.
  versionValidFrom: DateTime!
}

#Information about the model
type About {
  #This version deprecates object ClassificationSubset and add new objects ClassificationSubsetVersion and ClassificationSubsetSeries
  model_version: String!
}

#A generic and expandable key-value-store for adding present and future AdministrativeDetails-attributes to any information object.
type AdministrativeDetails {
  #The type (key) of the AdministrativeDetails-attribute.
  administrativeDetailType: AdministrativeDetailType!
  #One or more values (a list) for this administrativeDetailType.
  values: [String!]!
}

#An actor that performs a role in relation to the statistical Business Process.
type Agent implements IdentifiableArtefact @domain {
  #Administrative details (e.g. default language, documentation, localID, ...).
  administrativeDetails: [AdministrativeDetails!]
  #Indicator for access to an item.
  administrativeStatus: AdministrativeStatusType
  #Agent details (e.g. contackt adress, email, phone, mobile ...).
  agentDetails: [AgentDetails!]
  #Agent(s) acting in the Role(s) for this information object.
  agentInRoles: [AgentInRole] @link
  #The type of agent.
  agentType: AgentType!
  #Information object created by.
  createdBy: String!
  #The date on which the information object was created
  createdDate: DateTime!
  #The description of the information object
  description: [MultilingualText!]
  #The global unique identifier (GUID) of the information object assigned by the owner agency.
  id: String!
  #Is this an external agent?
  isExternal: Boolean!
  #Last updated by.
  lastUpdatedBy: String
  #The date on which the object was last updated.
  lastUpdatedDate: DateTime
  #A term which designates a concept, in this case an information object. The identifying name will be the preferred designation. There will be many terms to designate the same information object, such as synonyms and terms in other languages.
  name: [MultilingualText!]!
  parentAgents: [Agent] @link
  #A short technical name. (Avoid special characters not supported as variable names in common programming languages).
  shortName: String
  #The date on which the information object is effective or valid. Set this date only once (constant). The same date for all versions of this information object.
  validFrom: DateTime!
  #The date on which the information object is no longer effective or valid.
  validUntil: DateTime
  #Formal versioning of the information object. The version designator of the information object assigned by the owner agency. "major.minor.patch", e.g. "1.12.5".
  version: String
  #The reason for making this version of the information object.
  versionRationale: [MultilingualText!]
  #The date on which the current version of the infomation object is effective or valid.
  versionValidFrom: DateTime!
}

#A generic and expandable key-value-store for adding present and future AgentDetails-attributes to the Agent-object.
type AgentDetails {
  #The type (key) of the AgentDetails-attribute.
  agentDetailType: AgentDetailType!
  #One or more values (a list) for this agentDetailType.
  values: [String!]!
}

#Reflects an agent acting in a specific role.
type AgentInRole implements IdentifiableArtefact @domain {
  #Administrative details (e.g. default language, documentation, localID, ...).
  administrativeDetails: [AdministrativeDetails!]
  #Indicator for access to an item.
  administrativeStatus: AdministrativeStatusType
  #Agent(s) acting in the Role(s) for this information object.
  agentInRoles: [AgentInRole] @link
  agents: [Agent]! @link
  #Information object created by.
  createdBy: String!
  #The date on which the information object was created
  createdDate: DateTime!
  #The description of the information object
  description: [MultilingualText!]
  #The global unique identifier (GUID) of the information object assigned by the owner agency.
  id: String!
  #Last updated by.
  lastUpdatedBy: String
  #The date on which the object was last updated.
  lastUpdatedDate: DateTime
  #A term which designates a concept, in this case an information object. The identifying name will be the preferred designation. There will be many terms to designate the same information object, such as synonyms and terms in other languages.
  name: [MultilingualText!]!
  role: Role! @link
  #A short technical name. (Avoid special characters not supported as variable names in common programming languages).
  shortName: String
  #The date on which the information object is effective or valid. Set this date only once (constant). The same date for all versions of this information object.
  validFrom: DateTime!
  #The date on which the information object is no longer effective or valid.
  validUntil: DateTime
  #Formal versioning of the information object. The version designator of the information object assigned by the owner agency. "major.minor.patch", e.g. "1.12.5".
  version: String
  #The reason for making this version of the information object.
  versionRationale: [MultilingualText!]
  #The date on which the current version of the infomation object is effective or valid.
  versionValidFrom: DateTime!
}

#A subset of classifications. Deprecated, replaced by ClassificationSubsetVersion
type ClassificationSubset implements IdentifiableArtefact @domain {
  #Administrative details (e.g. default language, documentation, localID, ...).
  administrativeDetails: [AdministrativeDetails!]
  #Indicator for access to an item.
  administrativeStatus: AdministrativeStatusType
  #Agent(s) acting in the Role(s) for this information object.
  agentInRoles: [AgentInRole] @link
  #List of urns to classification subsets
  codes: [RankedUrnDetails!]!
  #Information object created by.
  createdBy: String!
  #The date on which the information object was created
  createdDate: DateTime!
  #The description of the information object
  description: [MultilingualText!]
  #The global unique identifier (GUID) of the information object assigned by the owner agency.
  id: String!
  #Last updated by.
  lastUpdatedBy: String
  #The date on which the object was last updated.
  lastUpdatedDate: DateTime
  #A term which designates a concept, in this case an information object. The identifying name will be the preferred designation. There will be many terms to designate the same information object, such as synonyms and terms in other languages.
  name: [MultilingualText!]!
  #A short technical name. (Avoid special characters not supported as variable names in common programming languages).
  shortName: String
  #The date on which the information object is effective or valid. Set this date only once (constant). The same date for all versions of this information object.
  validFrom: DateTime!
  #The date on which the information object is no longer effective or valid.
  validUntil: DateTime
  #Formal versioning of the information object. The version designator of the information object assigned by the owner agency. "major.minor.patch", e.g. "1.12.5".
  version: String
  #The reason for making this version of the information object.
  versionRationale: [MultilingualText!]
  #The date on which the current version of the infomation object is effective or valid.
  versionValidFrom: DateTime!
}

#A subset of classifications
type ClassificationSubsetSeries @domain {

  #What kind of classification is this? Always Subset
  classificationType: String

  #The date on which the object was last updated.
  lastModified: DateTime!

  #Information about contact person
  contactPerson: ContactInfo

  #Information object created by.
  owningSection: String!

  #The overarching categories of things described by these codes
  statisticalUnits: [String]

  #What kind of classification family does this subset belong to
  classificationFamily: String!

  #List of each version of the classification subsets
  versions: [ClassificationSubsetVersion]! @link

  ## THESE FIELDS ARE UNIQUE TO Subsets, AND ARE NOT GIVEN BY KLASS API

  #Last updated by.
  lastModifiedBy: ContactInfo

  #A short technical name. (Avoid special characters not supported as variable names in common programming languages).
  shortName: String

  #The global unique identifier (GUID) of the information object assigned by the owner agency.
  id: String!

  #Administrative details (e.g. default language, documentation, localID, ...).
  administrativeDetails: [AdministrativeDetails!]

  #The date on which the information object was created
  createdDate: Date!

  #The description of the information object
  description: [MultilingualText!]!

  #A term which designates a concept, in this case an information object. The identifying name will be the preferred designation. There will be many terms to designate the same information object, such as synonyms and terms in other languages.
  name: [MultilingualText!]!
}

type ContactInfo {
  name: String!
  email: String!
  phone: String!
}

type ClassificationSubsetCode {
  # The ID of the KLASS classification this code is taken from
  classificationId: String!
  # The ID (often a number) of the code in the KLASS classification
  code: String!
  # The name of the code at the time it was saved
  name: String!
  # The level of this code in the classification
  level: String!
  # The rank of this code in this subset version's code list
  rank: String!
  # The versionUIDs of the classification versions this code is present in within the validInRange
  classificationVersions: [String!]!
  # The validFrom date of the classification version this code is taken from
  validFromInRequestedRange: Date!
  validToInRequestedRange: Date
}

#A subset of classifications
type ClassificationSubsetVersion @domain {

  #Which date the version starts being valid at
  validFrom: Date!

  #Optional validUntil for closed subsets
  validUntil: Date

  lastModified: DateTime!

  #Last updated by.
  lastModifiedBy: ContactInfo

  #The overarching categories of things described by these codes
  statisticalUnits: [String]

  #Administrative details (e.g. default language, documentation, localID, ...).
  administrativeDetails: [AdministrativeDetails!]

  #Indicator for access to an item.
  administrativeStatus: AdministrativeStatusType

  #List of urns pointing to specific codes from KLASS classifications
  codes: [ClassificationSubsetCode]

  #The date on which the information object was created
  createdDate: Date!

  #UID of this subset version.
  version: String!

  #UID of the subset series this version belongs to
  subsetId: String!

  #The reason for making this version of the information object.
  versionRationale: [MultilingualText!]!

  _links: LinksObject
}

#A reusable type for supporting multilingual texts.
type MultilingualText {
  #The language code. Use only ISO 639-1 codes.
  languageCode: LanguageCodeType!
  #The text (e.g. label, title, description)
  languageText: String!
}

type Query {
  AboutById: [About]
  AdministrativeDetailsById: [AdministrativeDetails]
  AgentById: [Agent]
  AgentDetailsById: [AgentDetails]
  AgentInRoleById: [AgentInRole]
  ClassificationSubsetById: [ClassificationSubset]
  ClassificationSubsetSeriesById: [ClassificationSubsetSeries]
  ClassificationSubsetVersionById: [ClassificationSubsetVersion]
  MultilingualTextById: [MultilingualText]
  RankedUrnDetailsById: [RankedUrnDetails]
  RoleById: [Role]
}

#An URN with rank property
type RankedUrnDetails {
  #Position in the list
  rank: Int!
  #An URN
  urn: String!
}

type LinksObject {
  self: Href
}

type Href {
  href: String
}

#The responsible function involved in the statistical Business Process.
type Role implements IdentifiableArtefact @domain {
  #Administrative details (e.g. default language, documentation, localID, ...).
  administrativeDetails: [AdministrativeDetails!]
  #Indicator for access to an item.
  administrativeStatus: AdministrativeStatusType
  #Agent(s) acting in the Role(s) for this information object.
  agentInRoles: [AgentInRole] @link
  #Information object created by.
  createdBy: String!
  #The date on which the information object was created
  createdDate: DateTime!
  #The description of the information object
  description: [MultilingualText!]
  #The global unique identifier (GUID) of the information object assigned by the owner agency.
  id: String!
  #Last updated by.
  lastUpdatedBy: String
  #The date on which the object was last updated.
  lastUpdatedDate: DateTime
  #A term which designates a concept, in this case an information object. The identifying name will be the preferred designation. There will be many terms to designate the same information object, such as synonyms and terms in other languages.
  name: [MultilingualText!]!
  #A short technical name. (Avoid special characters not supported as variable names in common programming languages).
  shortName: String
  #The date on which the information object is effective or valid. Set this date only once (constant). The same date for all versions of this information object.
  validFrom: DateTime!
  #The date on which the information object is no longer effective or valid.
  validUntil: DateTime
  #Formal versioning of the information object. The version designator of the information object assigned by the owner agency. "major.minor.patch", e.g. "1.12.5".
  version: String
  #The reason for making this version of the information object.
  versionRationale: [MultilingualText!]
  #The date on which the current version of the infomation object is effective or valid.
  versionValidFrom: DateTime!
}

enum AdministrativeDetailType {
  ALIAS
  ANNOTATION
  DEFAULTLANGUAGE
  DOCUMENTATION
  LOCALID
  ORIGIN
  URL
}

enum AdministrativeStatusType {
  DEPRECATED
  DRAFT
  INTERNAL
  OPEN
}

enum AgentDetailType {
  CONTACT_ADDRESS
  CONTACT_EMAIL
  CONTACT_MOBILE
  CONTACT_PHONE
}

enum AgentType {
  INDIVIDUAL
  ORGANIZATION
  SYSTEM
}

enum LanguageCodeType {
  en
  nb
  nn
}

#An RFC-3339 compliant Full Date Scalar
scalar Date

#An RFC-3339 compliant DateTime Scalar
scalar DateTime

#An RFC-3339 compliant Full Time Scalar
scalar Time
